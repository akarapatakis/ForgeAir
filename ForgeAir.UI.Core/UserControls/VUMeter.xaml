<UserControl x:Class="ForgeAir.UI.Core.Controls.VUMeter"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="200" d:DesignWidth="40" Width="40" Height="200">

    <Grid>

        <!-- ProgressBar rotated vertical -->
        <ProgressBar x:Name="vuBar" Minimum="0" Maximum="100" Value="{Binding Level, RelativeSource={RelativeSource AncestorType=UserControl}}"
                     Orientation="Vertical" Height="Auto" Width="20"
                     VerticalAlignment="Stretch"
                     IsIndeterminate="False" 
                     Foreground="{StaticResource VUGradientBrush}" />

        <!-- Optional ticks or marks -->
        <Canvas IsHitTestVisible="False" Margin="8,8,8,8">
            <!-- Draw 4 ticks -->
            <Line X1="0" Y1="10" X2="10" Y2="10" Stroke="White" StrokeThickness="1" />
            <Line X1="0" Y1="50" X2="10" Y2="50" Stroke="White" StrokeThickness="1" />
            <Line X1="0" Y1="90" X2="10" Y2="90" Stroke="White" StrokeThickness="1" />
            <Line X1="0" Y1="130" X2="10" Y2="130" Stroke="White" StrokeThickness="1" />
        </Canvas>
    </Grid>

    <UserControl.Resources>
        <LinearGradientBrush x:Key="VUGradientBrush" StartPoint="0,1" EndPoint="0,0">
            <GradientStop Color="Green" Offset="0" />
            <GradientStop Color="Yellow" Offset="0.7" />
            <GradientStop Color="Red" Offset="1" />
        </LinearGradientBrush>
    </UserControl.Resources>
</UserControl>
